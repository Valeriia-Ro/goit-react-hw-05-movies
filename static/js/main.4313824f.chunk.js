(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{11:function(e,t,c){e.exports={link:"Navigation_link__1C9HP",activeLink:"Navigation_activeLink__2nnpr Navigation_link__1C9HP"}},32:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),i=c(17),s=c.n(i),a=c(7),j=c(11),l=c.n(j),o=c(0);function h(){return Object(o.jsxs)("nav",{children:[Object(o.jsx)(a.c,{exact:!0,to:"/",className:l.a.link,activeClassName:l.a.activeLink,children:"Home"}),Object(o.jsx)(a.c,{to:"/movies",className:l.a.link,activeClassName:l.a.activeLink,children:"Movies"})]})}var b=function(e){var t=e.children;return Object(o.jsx)("div",{children:t})},d=c(8),u=c(2),O=c(15),x=c.n(O),p=c(20),v="https://api.themoviedb.org/3",f="59c619da17f9f7203e134eac63f3d32c";function m(){return g.apply(this,arguments)}function g(){return g=Object(p.a)(x.a.mark((function e(){var t,c,n,r=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",c=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(t,c);case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function _(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),c=t[0],r=t[1],i=Object(u.g)().url;return Object(n.useEffect)((function(){m("".concat(v,"/trending/all/day?api_key=").concat(f)).then((function(e){var t=e.results;return r(t)}))}),[r]),Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Tranding today"}),Object(o.jsx)("ul",{children:c&&c.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)(a.b,{to:"".concat(i,"/").concat(e.id),children:e.title},e.id)},e.id)}))})]})}function w(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),c=(t[0],t[1]);return Object(n.useEffect)((function(){var e;m("".concat(v,"/search/movie?api_key=").concat(f,"&query=").concat(e,"&page=1&include_adult=false}")).then(c)}),[]),Object(o.jsxs)("div",{children:[Object(o.jsx)("form",{children:Object(o.jsx)("label",{children:Object(o.jsx)("input",{type:"text"})})}),Object(o.jsx)("button",{type:"submit",children:"search"})]})}function k(e){var t=e.cast,c=e.isError;return Object(o.jsx)("div",{children:t&&!c&&t.cast.length?t.cast.map((function(e){return Object(o.jsx)("ul",{children:e.profile_path&&Object(o.jsxs)("li",{children:[Object(o.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w200").concat(e.profile_path),alt:e.original_name,width:"100"}),Object(o.jsx)("p",{children:e.original_name}),Object(o.jsxs)("p",{children:["Character: ",e.character]})]})},e.id)})):t&&Object(o.jsx)("li",{children:Object(o.jsx)("p",{children:"Not Found"})})})}function y(e){var t=e.reviews,c=e.isError;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("hr",{}),Object(o.jsx)("ul",{children:t&&!c&&t.results.length?t.results.map((function(e){return Object(o.jsxs)("li",{children:[Object(o.jsxs)("h4",{children:["Author: ",e.author]}),Object(o.jsx)("p",{children:e.content})]},e.id)})):t&&Object(o.jsx)("li",{children:Object(o.jsx)("p",{children:"We don't have any reviews for this movie."})})})]})}function N(){var e=Object(u.g)(),t=e.url,c=e.path,r=Object(u.f)().movieId,i=Object(n.useState)(null),s=Object(d.a)(i,2),j=s[0],l=s[1],h=Object(n.useState)(null),b=Object(d.a)(h,2),O=b[0],x=b[1],p=Object(n.useState)(null),g=Object(d.a)(p,2),_=g[0],w=g[1];return Object(n.useEffect)((function(){(function(e){return m("".concat(v,"/movie/").concat(e,"?api_key=").concat(f))})(r).then(l).catch((function(e){return console.log(e)})),function(e){return m("".concat(v,"/movie/").concat(e,"/reviews?api_key=").concat(f,"&language=en-US&page=1"))}(r).then(x).catch((function(e){return console.log(e)})),function(e){return m("".concat(v,"/movie/").concat(e,"/credits?api_key=").concat(f,"&language=en-US"))}(r).then(w).catch((function(e){return console.log(e)}))}),[r]),Object(o.jsx)("div",{children:j&&Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500","/").concat(j.poster_path),alt:j.original_title})}),Object(o.jsxs)("h2",{children:[j.title,"(",j.release_date.slice(0,4),")"]}),Object(o.jsx)("hr",{}),Object(o.jsxs)("p",{children:["User score : ",j.popularity]}),Object(o.jsxs)("ul",{children:[Object(o.jsxs)("li",{children:[Object(o.jsx)("p",{children:"Owerview"}),Object(o.jsx)("p",{children:j.overview})]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("p",{children:"Genres:"}),Object(o.jsx)("ul",{children:j.genres.map((function(e){return Object(o.jsxs)("li",{children:[e.name,Object(o.jsx)("li",{})]},e.name)}))})]})]}),Object(o.jsxs)("ul",{children:[Object(o.jsxs)("li",{children:[" ",Object(o.jsx)(a.b,{to:"".concat(t,"/credits"),children:"Cast"})]}),Object(o.jsx)("li",{children:Object(o.jsx)(a.b,{to:"".concat(t,"/reviews"),children:"Reviews"})})]})]}),Object(o.jsxs)(u.c,{children:[Object(o.jsx)(u.a,{path:"".concat(c,"/credits"),children:Object(o.jsx)(k,{cast:_})}),Object(o.jsx)(u.a,{path:"".concat(c,"/reviews"),children:Object(o.jsx)(y,{reviews:O})})]})]})})}function S(){return Object(o.jsx)("h1",{children:" error 404: Page was not found "})}function E(){return Object(o.jsxs)(b,{children:[Object(o.jsx)(h,{}),Object(o.jsxs)(u.c,{children:[Object(o.jsx)(u.a,{path:"/",exact:!0,children:Object(o.jsx)(_,{})}),Object(o.jsx)(u.a,{path:"/movies",children:Object(o.jsx)(w,{})}),Object(o.jsx)(u.a,{path:"//:movieId",children:Object(o.jsx)(N,{})}),Object(o.jsx)(u.a,{children:Object(o.jsx)(S,{})})]})]})}s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(a.a,{children:Object(o.jsx)(E,{})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.4313824f.chunk.js.map