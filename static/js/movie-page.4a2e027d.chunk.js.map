{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","view/MoviesView.js","Components/MoviesPage/MoviesPage.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Movies","onSubmit","useState","searchWord","setSearchWord","e","preventDefault","type","placeholder","onChange","toLowerCase","MoviePage","movie","setMovies","history","useHistory","location","useLocation","search","URLSearchParams","get","useEffect","console","log","moviesAPi","then","results","pages","alert","catch","error","message","query","HomeView","data"],"mappings":"yIAAe,SAASA,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,ECVT,SAASQ,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GACvCC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,eAEtDM,EAAKM,KAAKC,MAAMP,EAAME,GAGxB,OAAOF,EAGM,SAASQ,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNb,EAAQL,OAAOqB,IAAS,GAAMC,SAAQ,SAAUxB,GAC9C,EAAemB,EAAQnB,EAAKuB,EAAOvB,OAE5BE,OAAOuB,0BAChBvB,OAAOwB,iBAAiBP,EAAQjB,OAAOuB,0BAA0BF,IAEjEhB,EAAQL,OAAOqB,IAASC,SAAQ,SAAUxB,GACxCE,OAAOC,eAAegB,EAAQnB,EAAKE,OAAOa,yBAAyBQ,EAAQvB,OAKjF,OAAOmB,E,wFC/BM,SAASQ,EAAT,GAA+B,IAAbC,EAAY,EAAZA,SAC/B,EAAoCC,mBAAS,IAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KAaA,OACE,uBAAMH,SARa,SAACI,GACpBA,EAAEC,iBAEFL,EAASE,GACTC,EAAc,KAId,UACE,uBACEG,KAAK,OACLC,YAAY,gBACZlC,MAAO6B,EACPM,SAjBe,SAACJ,GACpBD,EAAcC,EAAEb,OAAOlB,MAAMoC,kBAmB3B,wBAAQH,KAAK,SAAb,uB,YCnBS,SAASI,IAAa,IAAD,EAClC,EAA2BT,mBAAS,IAApC,mBAAOU,EAAP,KAAcC,EAAd,KACMC,EAAUC,cACVC,EAAWC,cACXC,EAAM,UAAG,IAAIC,gBAAgBH,EAASE,QAAQE,IAAI,gBAA5C,QAAwD,GAqCpE,OArBAC,qBAAU,WACRC,QAAQC,IAAI,GACZV,EAAU,MACT,CAACK,IAEJG,qBAAU,WACJH,GAAqB,KAAXA,GACZM,IACqBN,GAClBO,MAAK,YAAyB,IAAtBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MAChBd,EAAUa,GACW,IAAjBd,EAAMjB,QAA0B,IAAVgC,GACxBC,MAAM,iBAGTC,OAAM,SAACC,GACNF,MAAME,EAAMC,cAGjB,CAACnB,EAAMjB,OAAQuB,IAGhB,gCACE,cAAClB,EAAD,CAAYC,SArCM,SAAC+B,GACP,KAAVA,IACFJ,MAAM,iBACNf,EAAU,KAEZC,EAAQzB,KAAR,OACK2B,GADL,IAEEE,OAAO,SAAD,OAAWc,MAGnBV,QAAQC,IAAIS,GACZV,QAAQC,IAAIX,MA2BTM,IAAWN,GAAS,cAACqB,EAAA,EAAD,CAAUC,KAAMtB","file":"static/js/movie-page.4a2e027d.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { useState } from \"react\";\r\n\r\nexport default function Movies({ onSubmit }) {\r\n  const [searchWord, setSearchWord] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setSearchWord(e.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onSubmit(searchWord);\r\n    setSearchWord(\"\");\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search movies\"\r\n        value={searchWord}\r\n        onChange={handleChange}\r\n      />\r\n\r\n      <button type=\"submit\">Search</button>\r\n    </form>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport * as moviesAPi from \"../../services/film-api\";\r\nimport MoviesView from \"../../view/MoviesView\";\r\nimport HomeView from \"../../view/HomeView\";\r\nexport default function MoviePage() {\r\n  const [movie, setMovies] = useState([]);\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const search = new URLSearchParams(location.search).get(\"query\") ?? \"\";\r\n\r\n  const onChangeMovie = (query) => {\r\n    if (query === \"\") {\r\n      alert(\"Enter a film!\");\r\n      setMovies([]);\r\n    }\r\n    history.push({\r\n      ...location,\r\n      search: `query=${query}`,\r\n    });\r\n\r\n    console.log(query);\r\n    console.log(movie);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(1);\r\n    setMovies([]);\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    if (search && search !== \"\") {\r\n      moviesAPi\r\n        .fetchSearchMovies(search)\r\n        .then(({ results, pages }) => {\r\n          setMovies(results);\r\n          if (movie.length === 0 && pages === 0) {\r\n            alert(\"Not Found!\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          alert(error.message);\r\n        });\r\n    }\r\n  }, [movie.length, search]);\r\n\r\n  return (\r\n    <div>\r\n      <MoviesView onSubmit={onChangeMovie} />\r\n      {search !== movie && <HomeView data={movie} />}\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}